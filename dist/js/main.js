(()=>{"use strict";const e=({timing:e,draw:t,duration:a})=>{let c=performance.now();requestAnimationFrame((function n(l){let r=(l-c)/a;r>1&&(r=1);let s=e(r);t(s),r<1&&requestAnimationFrame(n)}))};(e=>{const t=document.getElementById("timer-days"),a=document.getElementById("timer-hours"),c=document.getElementById("timer-minutes"),n=document.getElementById("timer-seconds"),l=()=>{let e=(()=>{let e=(new Date("03 July 2023 20:16").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/60/60/24),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining>0&&(t.textContent=e.days,a.textContent=("0"+e.hours).slice(-2),c.textContent=("0"+e.minutes).slice(-2),n.textContent=("0"+e.seconds).slice(-2),setTimeout(l,500))};l()})(),(()=>{const e=document.querySelector("menu");document.querySelector("body").addEventListener("click",(t=>{var a;(t.target.closest(".menu, main a")||e.classList.contains("active-menu"))&&(t.target.closest(".menu")?e.classList.add("active-menu"):(e.classList.contains("active-menu")&&!t.target.closest("menu")||t.target.classList.contains("close-btn")||t.target.matches("menu ul li a"))&&e.classList.remove("active-menu"),t.target.closest("main a, menu ul li a")&&(t.preventDefault(),a=t.target.closest("main a, menu ul li a").getAttribute("href"),document.querySelector(a).scrollIntoView({behavior:"smooth",block:"start"})))}))})(),(()=>{const t=document.querySelector(".popup"),a=t.querySelector(".popup-content"),c=document.querySelector(".service");let n=0,l=0;const r=()=>{t.style.display="",a.style.opacity="",a.style.left="",n=0,l=0};c.addEventListener("click",(c=>{c.target.closest("button.popup-btn")&&(t.style.display="block",document.documentElement.clientWidth<=768||e({duration:500,timing:e=>e,draw(e){a.style.left=38*e+"%",a.style.opacity=e}}))})),t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||r()})),document.addEventListener("keydown",(e=>{0!==t.style.display.length&&"Escape"===e.key&&r()}))})(),(()=>{const e=document.querySelectorAll(".calc-block > input"),t=document.querySelectorAll("[name=user_name], .mess"),a=document.querySelectorAll("[type=email]"),c=document.querySelectorAll("[type=tel]");e.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/\D+/,"")}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{e.target.value=e.target.value.replace(/\s+/g," ").replace(/\-+/g,"-").replace(/^\s+|\s+$/g,"").replace(/^\-+|\-+$/g,"").replace(/[^А-Яа-я\s-]/g,"").replace(/(^|\s)\S/g,(e=>e.toUpperCase()))}))})),a.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\w\@\-\.\!\~\*\']/g,"")}))})),c.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^\d\(\)\-]/g,"")}))}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),a=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{t.target.closest(".service-header-tab")&&a.forEach(((a,c)=>{a===t.target.closest(".service-header-tab")?(a.classList.add("active"),e[c].classList.remove("d-none")):(a.classList.remove("active"),e[c].classList.add("d-none"))}))}))})(),((e="slider",t=3e3)=>{const a=document.querySelector(`.${e}-content`),c=document.querySelectorAll(`.${e}-item`);let n,l=0;if(!a||0===c.length)return void console.log("Ошибка в слайдере: не найдены необходимые классы");const r=(()=>{const t=document.createElement("ul");t.classList.add(`${e}-dots`),a.append(t);for(let a=0;a<c.length;a++){const a=document.createElement("li");a.classList.add(`${e}-dot`),t.append(a)}const n=document.querySelectorAll(`.${e}-dot`);return n[0].classList.add(`${e}-dot-active`),n})(),s=(e,t,a)=>{e[t].classList.remove(a)},o=(e,t,a)=>{e[t].classList.add(a)},i=()=>{s(c,l,`${c[0].className.match(/^\S+\S/)[0]}-active`),s(r,l,`${e}-dot-active`),l++,l>=c.length&&(l=0),o(c,l,`${c[0].className.match(/^\S+\S/g)[0]}-active`),o(r,l,`${e}-dot-active`)},u=()=>{n=setInterval(i,t)};a.addEventListener("click",(t=>{t.preventDefault(),t.target.matches(`.${e}-dot, .${e}-btn`)&&!t.target.matches(`.${e}-dot-active`)&&(s(c,l,`${c[0].className.match(/^\S+\S/g)[0]}-active`),s(r,l,`${e}-dot-active`),t.target.matches("#arrow-right")?l++:t.target.matches("#arrow-left")?l--:t.target.classList.contains(`${e}-dot`)&&r.forEach(((e,a)=>{t.target===e&&(l=a)})),l>=c.length&&(l=0),l<0&&(l=c.length-1),o(c,l,`${c[0].className.match(/^\S+\S/g)[0]}-active`),o(r,l,`${e}-dot-active`))})),a.addEventListener("mouseenter",(t=>{t.target.matches(`.${e}-dot, .${e}-btn`)&&clearInterval(n)}),!0),a.addEventListener("mouseleave",(t=>{t.target.matches(`.${e}-dot, .${e}-btn`)&&u()}),!0),u()})("portfolio",5e3),((t=100)=>{const a=document.querySelector(".calc-block"),c=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),l=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),s=document.querySelector("#total");a.addEventListener("input",(a=>{a.target!==c&&a.target!==n&&a.target!==l&&a.target!==r||(()=>{const a=+c[c.selectedIndex].value,o=n.value;let i=0,u=1,d=1;if(!n.value||!c[c.selectedIndex].value)return s.innerText=0;1===a?t=100:1.4===a?t=120:2===a&&(t=110),+l.value>1&&(u+=+l.value/10),+r.value>=10||0==+r.value?d=1:+r.value>=1&&+r.value<5?d=2:+r.value>=5&&+r.value<10&&(d=1.5),i=t*o*a*u*d,s.innerText=0,e({duration:500,timing:e=>e,draw(e){s.innerText=Math.round(i*e)}})})()}))})(),console.log(456)})();